<?xml version="1.0" encoding="UTF-8"?>
<!--<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>-->
<!DOCTYPE article [
<!ENTITY % entity SYSTEM "entity-decl.ent">
%entity;
]>

<article role="sbp" xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
  xml:id="art.sbp.amdepyc.sles12sp3" xml:lang="en">

  <info>
    <title>How to Deploy SUSE Linux Enterprise Server with SUSE Manager on
      IBM PowerVM</title>
    <!--<subtitle>Simplified Deployment on Microsoft Azure</subtitle>-->
    <productname>SUSE Linux Enterprise Server</productname>
    <productnumber>12 SP3</productnumber>

    <author>
      <personname>
        <firstname>Olivier</firstname>
        <surname>Van Rompuy, Senior System Engineer and Technical
          Consultant, IRIS</surname>
      </personname>
      <!--      <affiliation>
        <jobtitle>Senior Software Engineer</jobtitle>
        <orgname>SUSE</orgname>
        </affiliation>-->
    </author>



    <date><?dbtimestamp format="B d, Y" ?></date>

    <abstract>

      <para>The document at hand provides an overview of how to deploy SUSE
        Manager on IBM Power Systems. This enables you to manage and
        maintain your enterprise Linux system deployments across physical,
        virtual and cloud environments via one centralized tool. Described
        is a base deployment of SUSE Manager 3.1 on IBM PowerVM LPARs,
        including Autoinstallation, AutoYaST and Netboot
        Integration.</para>
    </abstract>
  </info>

  <sect1 xml:id="sec.install_suma_power">
    <title>Installing SUSE Manager on IBM Power</title>

    <para>First, you need to perform several actions related to the IBM
      PowerVM architecture (refer also to the IBM documentation at <link
        xlink:href="https://www.ibm.com/support/knowledgecenter/"
        >https://www.ibm.com/support/knowledgecenter/</link> ):</para>

    <procedure>
      <step>
        <para>Create a new Logical Partition (LPAR) for SUSE Manager on an
          IBM Power System with POWER8 or higher processors.</para>
      </step>
      <step>
        <para>Configure the infrastructure for this LPAR: LAN, SAN, storage
          luns, zoning, etc..</para>
      </step>
      <step>
        <para>Create a virtual DVD drive for this LPAR on one of the VIO
          servers (learn more about VIO servers here: <link
            xlink:href="https://www.ibm.com/support/knowledgecenter/en/POWER8/p8hb1/p8hb1_vios_virtualioserveroverview.htm"
            >https://www.ibm.com/support/knowledgecenter/en/POWER8/p8hb1/p8hb1_vios_virtualioserveroverview.htm</link>).</para>
      </step>
      <step>
        <para>Add the SUSE Linux Enterprise Server 12 ISO files to the
          virtual optical device (dvd) repository on this VIO
          server.</para>
      </step>
      <step>
        <para>Using the command <command>cfgassist</command> on the VIO
          server loads the first DVD in the virtual drive.</para>
      </step>
      <step>
        <para>Activate the LPAR, enter the System Management Services (SMS)
          menu and choose to boot from the DVD.</para>
      </step>
    </procedure>

    <para>When the SUSE YaST installation tool appears, subscribe with the
      correct SUSE Customer Center (SCC) registration code (<quote>SUSE
        Linux Enterprise Server for IBM POWER</quote>). Collect your
      registration codes from the SCC portal site at <link
        xlink:href="https://scc.suse.com"
      >https://scc.suse.com</link>.</para>

    <para>Now choose to add the SUSE Manger Server extension as shown on
      the screen below, and enter <emphasis role="strong"
      >Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - Extensions and Module Selection</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-extension-selection.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-extension-selection.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Accept the SUSE End User License Agreement (EULA) and enter
        <emphasis role="strong">Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - SUSE End User License Agreement</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-license-agreement.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-license-agreement.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide the correct registration code delivered with your SUSE
      Manager subscription, and enter <emphasis role="strong"
        >Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - SUSE Manager Registration Code</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-extension-regcodes.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-extension-regcodes.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>No additional <emphasis role="strong">Add On Product</emphasis>
      has to be installed. Skip this screen and enter <emphasis
        role="strong">Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - Add On Product</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-addon.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-addon.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>The next screen provides the partitioning options:</para>

    <figure>
      <title>YaST Installation - Partitioning Options</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-suggestedpartioning-1.png "
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-suggestedpartioning-1.png "
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Select <emphasis role="strong">Expert
      Partitioner</emphasis>:</para>

    <figure>
      <title>YaST Installation - Expert Partitioner</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-expertpartinioneer.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-expertpartinioneer.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Execute <emphasis role="strong">Rescan Devices</emphasis> to
      clear the auto-suggested partitioning:</para>

    <figure>
      <title>YaST Installation - Rescan Devices</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-rescandevices.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-rescandevices.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>In the particular scenario at hand, a reinstallation has been
      performed. In this case, follow the steps below. If partitioning
      and/or LVM settings are already present, choose to import these
      settings into the installer, and select <emphasis role="strong"
        >Import Mount Points</emphasis>:</para>

    <figure>
      <title>YaST Installation - Import Moint Points</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-importmount.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-importmount.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <note>
      <title>Fresh Installation</title>
      <para>If you perform an installation from scratch, configure your
        partitions and LVM settings following the recommendations
        below:</para>

      <simplelist>
        <member>Minimum 100 GB for root / partition</member>
        <member>Minimum 50 GB for
          <filename>/var/lib/pgsql</filename></member>
        <member>Minimum 50 GB per SUSE product and 100 GB per Red Hat
          product for <filename>/var/spacewalk</filename></member>
      </simplelist>
    </note>

    <para>When you are finished, continue with the partitioning step, and
      enter <emphasis role="strong">Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - Suggested Partitioning</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-suggestedpartitionig-2.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-suggestedpartitionig-2.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide the correct time zone settings, and confirm them with
        <emphasis role="strong">Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - Clock and Time Zone</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-timezone.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-timezone.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>At this stage you can choose to skip the creation of an initial
      user. Enter <emphasis role="strong">Next</emphasis>:</para>

    <figure>
      <title>YaST Installation - Local User</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-localuser.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-localuser.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Verify the settings overview and make further changes or
      customizations where needed. Confirm with <emphasis role="strong"
        >Install</emphasis> to start the installation:</para>

    <figure>
      <title>YaST Installation - Installation Settings</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-installation-settings.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-installation-settings.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>After the installation is finished, verify whether all aspects of
      the operating system have been installed correctly.</para>

  </sect1>

  <sect1 xml:id="sec.suma_setup">
    <title>SUSE Manager Setup</title>

    <important>
      <title>DNS</title>

      <para>After the installation make sure you configure your hosts DNS
        settings and add an entry to DNS. This ensures that the host name
        can be correctly resolved.</para>

    </important>

    <para>Open an SSH session to the new SUSE Manager host and start
      YaST:</para>

    <screen># yast2 susemanager_setup</screen>

    <para>Choose to configure SUSE Manager from scratch:</para>

    <figure>
      <title>YaST Installation - Setting up SUSE Manager</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-setupfromscratch.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-setupfromscratch.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Enter a correct administrator email address:</para>

    <figure>
      <title>YaST Installation - Email Address</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-email.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-email.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide details for the certificate generation:</para>

    <figure>
      <title>YaST Installation - Email Address</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-email.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-email.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide details for the certificate generation:</para>

    <figure>
      <title>YaST Installation - Certificate Generation</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-certifcatesetup.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-certifcatesetup.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide database authentication settings:</para>

    <figure>
      <title>YaST Installation - Database Settings</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-db-settings.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-db-settings.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Provide your SUSE Manager SCC organization user name and
      password:</para>

    <figure>
      <title>YaST Installation - SCC Settings</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-sccsettings.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-sccsettings.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Perform an authentication test towards the SUSE Customer
      Center:</para>

    <figure>
      <title>YaST Installation - Test Details</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-test-details.png" width="100%"
            format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-test-details.png" width="80%"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Confirm to run the setup process with <emphasis role="strong"
        >Yes</emphasis>:</para>

    <figure>
      <title>YaST Installation - Setup Process Confirmation</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-runsetupnow.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-runsetupnow.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Now the setup process is started:</para>

    <figure>
      <title>YaST Installation - Write Settings</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-writesettings.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-writesettings.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Wait until the setup process is completed. Then enter <emphasis
        role="strong">Finish</emphasis>.</para>

    <figure>
      <title>YaST Installation - Setup Completed</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="suma-powervm-yast-setupcompleted.png"
            width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="suma-powervm-yast-setupcompleted.png"
            width="80%" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>Verify that you can access the new SUSE Manager URL using a
      browser.</para>

    <important>
      <title/>
      <para>In SUSE Linux Enterprise Server 12 SP3 a small workaround fix
        needs to be applied to the Apache configuration file to be able to
        use spacewalk (at the time of writing):</para>
      
      <para>Add the following file with the following line of content:</para>      
<screen># vi /etc/apache2/conf.d/zipp-fix.conf
HttpProtocolOptions Unsafe</screen>
      
      <para>Restart Apache to activate the change:</para>
<screen># systemctl restart apache2.service</screen>      
      
    </important>


  </sect1>


  <sect1 xml:id="sec.conclusion">
    <title>Conclusion</title>

    <para>With SUSE Linux Enterprise, all the tools to monitor and tune a
      workload are readily available. Your customers can extract the
      maximum performance and reliability running their applications,
      either on bare metal or virtualized, on the EPYC platform.</para>

  </sect1>

  <sect1 xml:id="sec.resources">
    <title>Resources</title>

    <para>For more information, refer to:</para>

    <itemizedlist>
      <listitem>
        <para>AMD SenseMI Technology (<link
            xlink:href="https://www.amd.com/en/technologies/sense-mi"
            >https://www.amd.com/en/technologies/sense-mi</link>)</para>
      </listitem>
      <listitem>
        <para>Balanced power plan optimized for AMD Ryzen processors (<link
            xlink:href="https://community.amd.com/community/gaming/blog/2017/04/06/amd-ryzen-community-update-3"
            >https://community.amd.com/community/gaming/blog/2017/04/06/amd-ryzen-community-update-3</link></para>
      </listitem>
      <listitem>
        <para>EPYC Tech Day: Gerry Talbot (<link
            xlink:href="https://www.youtube.com/watch?v=W5IhEit6NqY"
            >https://www.youtube.com/watch?v=W5IhEit6NqY</link>)</para>
      </listitem>
      <listitem>
        <para>Optimizing Linux for Dual-Core AMD Opteron Processors (<link
            xlink:href="http://www.novell.com/traininglocator/partners/amd/4622016.pdf"
            >http://www.novell.com/traininglocator/partners/amd/4622016.pdf</link>)</para>
      </listitem>
      <listitem>
        <para>Systems Performance: Enterprise and the Cloud by Brendan
          Gregg (<link
            xlink:href="http://www.brendangregg.com/sysperfbook.html"
            >http://www.brendangregg.com/sysperfbook.html</link>)</para>
      </listitem>
      <listitem>
        <para>NASA Parallel Benchmark (<link
            xlink:href="https://www.nas.nasa.gov/publications/npb.html"
            >https://www.nas.nasa.gov/publications/npb.html</link>)</para>
      </listitem>
    </itemizedlist>

  </sect1>



  <sect1 xml:id="sec.appendix_a">
    <title>Appendix A</title>

    <para>Example of a VM configuration file:</para>

    <screen>
  &lt;domain type='kvm' xmlns:qemu='http://libvirt.org/schemas/domain/qemu/1.0'>  
  &lt;name>sles12sp3_01&lt;/name>
    &lt;uuid>26137bb8-9e5f-48e9-a81d-63ae36400196&lt;/uuid>
    &lt;memory unit='KiB'>209715200&lt;/memory>
    &lt;currentMemory unit='KiB'>209715200&lt;/currentMemory>
    &lt;memoryBacking>
      &lt;hugepages>
        &lt;page size='1048576' unit='KiB'/>
      &lt;/hugepages>
      &lt;nosharepages/>
    &lt;/memoryBacking>
    &lt;vcpu placement='static'>96&lt;/vcpu>
    &lt;cputune>
      &lt;vcpupin vcpu='0' cpuset='1'/>
      &lt;vcpupin vcpu='1' cpuset='65'/>
      &lt;vcpupin vcpu='2' cpuset='2'/>
      &lt;vcpupin vcpu='3' cpuset='66'/>
      &lt;vcpupin vcpu='4' cpuset='3'/>
      &lt;vcpupin vcpu='5' cpuset='67'/>
      &lt;vcpupin vcpu='6' cpuset='4'/>
      &lt;vcpupin vcpu='7' cpuset='68'/>
      &lt;vcpupin vcpu='8' cpuset='5'/>
      &lt;vcpupin vcpu='9' cpuset='69'/>
      &lt;vcpupin vcpu='10' cpuset='6'/>
      &lt;vcpupin vcpu='11' cpuset='70'/>
      &lt;vcpupin vcpu='12' cpuset='9'/>
      &lt;vcpupin vcpu='13' cpuset='73'/>
      &lt;vcpupin vcpu='14' cpuset='10'/>
      &lt;vcpupin vcpu='15' cpuset='74'/>
      &lt;vcpupin vcpu='16' cpuset='11'/>
      &lt;vcpupin vcpu='17' cpuset='75'/>
      &lt;vcpupin vcpu='18' cpuset='12'/>
      &lt;vcpupin vcpu='19' cpuset='76'/>
      &lt;vcpupin vcpu='20' cpuset='13'/>
      &lt;vcpupin vcpu='21' cpuset='77'/>
      &lt;vcpupin vcpu='22' cpuset='14'/>
      &lt;vcpupin vcpu='23' cpuset='78'/>
      &lt;vcpupin vcpu='24' cpuset='17'/>
      &lt;vcpupin vcpu='25' cpuset='81'/>
      &lt;vcpupin vcpu='26' cpuset='18'/>
      &lt;vcpupin vcpu='27' cpuset='82'/>
      &lt;vcpupin vcpu='28' cpuset='19'/>
      &lt;vcpupin vcpu='29' cpuset='83'/>
      &lt;vcpupin vcpu='30' cpuset='20'/>
      &lt;vcpupin vcpu='31' cpuset='84'/>
      &lt;vcpupin vcpu='32' cpuset='21'/>
      &lt;vcpupin vcpu='33' cpuset='85'/>
      &lt;vcpupin vcpu='34' cpuset='22'/>
      &lt;vcpupin vcpu='35' cpuset='86'/>
      &lt;vcpupin vcpu='36' cpuset='25'/>
      &lt;vcpupin vcpu='37' cpuset='89'/>
      &lt;vcpupin vcpu='38' cpuset='26'/>
      &lt;vcpupin vcpu='39' cpuset='90'/>
      &lt;vcpupin vcpu='40' cpuset='27'/>
      &lt;vcpupin vcpu='41' cpuset='91'/>
      &lt;vcpupin vcpu='42' cpuset='28'/>
      &lt;vcpupin vcpu='43' cpuset='92'/>
      &lt;vcpupin vcpu='44' cpuset='29'/>
      &lt;vcpupin vcpu='45' cpuset='93'/>
      &lt;vcpupin vcpu='46' cpuset='30'/>
      &lt;vcpupin vcpu='47' cpuset='94'/>
      &lt;vcpupin vcpu='48' cpuset='33'/>
      &lt;vcpupin vcpu='49' cpuset='97'/>
      &lt;vcpupin vcpu='50' cpuset='34'/>
      &lt;vcpupin vcpu='51' cpuset='98'/>
      &lt;vcpupin vcpu='52' cpuset='35'/>
      &lt;vcpupin vcpu='53' cpuset='99'/>
      &lt;vcpupin vcpu='54' cpuset='36'/>
      &lt;vcpupin vcpu='55' cpuset='100'/>
      &lt;vcpupin vcpu='56' cpuset='37'/>
      &lt;vcpupin vcpu='57' cpuset='101'/>
      &lt;vcpupin vcpu='58' cpuset='38'/>
      &lt;vcpupin vcpu='59' cpuset='102'/>
      &lt;vcpupin vcpu='60' cpuset='41'/>
      &lt;vcpupin vcpu='61' cpuset='105'/>
      &lt;vcpupin vcpu='62' cpuset='42'/>
      &lt;vcpupin vcpu='63' cpuset='106'/>
      &lt;vcpupin vcpu='64' cpuset='43'/>
      &lt;vcpupin vcpu='65' cpuset='107'/>
      &lt;vcpupin vcpu='66' cpuset='44'/>
      &lt;vcpupin vcpu='67' cpuset='108'/>
      &lt;vcpupin vcpu='68' cpuset='45'/>
      &lt;vcpupin vcpu='69' cpuset='109'/>
      &lt;vcpupin vcpu='70' cpuset='46'/>
      &lt;vcpupin vcpu='71' cpuset='110'/>
      &lt;vcpupin vcpu='72' cpuset='49'/>
      &lt;vcpupin vcpu='73' cpuset='113'/>
      &lt;vcpupin vcpu='74' cpuset='50'/>
      &lt;vcpupin vcpu='75' cpuset='114'/>
      &lt;vcpupin vcpu='76' cpuset='51'/>
      &lt;vcpupin vcpu='77' cpuset='115'/>
      &lt;vcpupin vcpu='78' cpuset='52'/>
      &lt;vcpupin vcpu='79' cpuset='116'/>
      &lt;vcpupin vcpu='80' cpuset='53'/>
      &lt;vcpupin vcpu='81' cpuset='117'/>
      &lt;vcpupin vcpu='82' cpuset='54'/>
      &lt;vcpupin vcpu='83' cpuset='118'/>
      &lt;vcpupin vcpu='84' cpuset='57'/>
      &lt;vcpupin vcpu='85' cpuset='121'/>
      &lt;vcpupin vcpu='86' cpuset='58'/>
      &lt;vcpupin vcpu='87' cpuset='122'/>
      &lt;vcpupin vcpu='88' cpuset='59'/>
      &lt;vcpupin vcpu='89' cpuset='123'/>
      &lt;vcpupin vcpu='90' cpuset='60'/>
      &lt;vcpupin vcpu='91' cpuset='124'/>
      &lt;vcpupin vcpu='92' cpuset='61'/>
      &lt;vcpupin vcpu='93' cpuset='125'/>
      &lt;vcpupin vcpu='94' cpuset='62'/>
      &lt;vcpupin vcpu='95' cpuset='126'/>
    &lt;/cputune>
    &lt;numatune>
      &lt;memory mode='strict' nodeset='0-7'/>
      &lt;memnode cellid='0' mode='strict' nodeset='0'/>
      &lt;memnode cellid='1' mode='strict' nodeset='1'/>
      &lt;memnode cellid='2' mode='strict' nodeset='2'/>
      &lt;memnode cellid='3' mode='strict' nodeset='3'/>
      &lt;memnode cellid='4' mode='strict' nodeset='4'/>
      &lt;memnode cellid='5' mode='strict' nodeset='5'/>
      &lt;memnode cellid='6' mode='strict' nodeset='6'/>
      &lt;memnode cellid='7' mode='strict' nodeset='7'/>
    &lt;/numatune>
    &lt;os>
      &lt;type arch='x86_64' machine='pc-i440fx-2.9'>hvm&lt;/type>
      &lt;boot dev='hd'/>
    &lt;/os>
    &lt;features>
      &lt;acpi/>
      &lt;apic/>
    &lt;/features>
    &lt;cpu mode='host-passthrough' check='none'>
      &lt;topology sockets='8' cores='6' threads='2'/>
      &lt;numa>
        &lt;cell id='0' cpus='0-11' memory='26214400' unit='KiB'/>
        &lt;cell id='1' cpus='12-23' memory='26214400' unit='KiB'/>
        &lt;cell id='2' cpus='24-35' memory='26214400' unit='KiB'/>
        &lt;cell id='3' cpus='36-47' memory='26214400' unit='KiB'/>
        &lt;cell id='4' cpus='48-59' memory='26214400' unit='KiB'/>
        &lt;cell id='5' cpus='60-71' memory='26214400' unit='KiB'/>
        &lt;cell id='6' cpus='72-83' memory='26214400' unit='KiB'/>
        &lt;cell id='7' cpus='84-95' memory='26214400' unit='KiB'/>
      &lt;/numa>
    &lt;/cpu>
    ...
    &lt;devices>
      &lt;emulator>/usr/bin/qemu-kvm&lt;/emulator>
      &lt;disk type='file' device='disk'>
        &lt;driver name='qemu' type='qcow2'/>
        &lt;source file='/home/sles12sp3_01.img'/>
        &lt;target dev='vda' bus='virtio'/>
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/>
      &lt;/disk>
      ...
      &lt;interface type='network'>
        &lt;mac address='52:54:00:9e:08:44'/>
        &lt;source network='default'/>
        &lt;model type='virtio'/>
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/>
      &lt;/interface>
      ...
      &lt;rng model='virtio'>
        &lt;backend model='random'>/dev/urandom&lt;/backend>
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/>
      &lt;/rng>
    &lt;/devices>
    &lt;qemu:commandline>
      &lt;qemu:arg value='-cpu'/>
      &lt;qemu:arg value='host,migratable=off,+invtsc,l3-cache=on'/>
    &lt;/qemu:commandline>
  &lt;/domain>
</screen>

  </sect1>

  <sect1 xml:id="sec.legal_notice">
    <title>Legal Notice</title>
    <para>Copyright &copy;2006–2018 SUSE LLC and contributors. All
      rights reserved. </para>
    <para>Permission is granted to copy, distribute and/or modify this
      document under the terms of the GNU Free Documentation License,
      Version 1.2 or (at your option) version 1.3; with the Invariant
      Section being this copyright notice and license. A copy of the
      license version 1.2 is included in the section entitled <quote>GNU
        Free Documentation License</quote>.</para>
    <para>SUSE, the SUSE logo and YaST are registered trademarks of SUSE
      LLC in the United States and other countries. For SUSE trademarks,
      see <link xlink:href="http://www.suse.com/company/legal/"
        >http://www.suse.com/company/legal/</link>. Linux is a registered
      trademark of Linus Torvalds. All other names or trademarks mentioned
      in this document may be trademarks or registered trademarks of their
      respective owners.</para>
    <para>This article is part of a series of documents called "SUSE Best
      Practices". The individual documents in the series were contributed
      voluntarily by SUSE's employees and by third parties.</para>
    <!--  <para>The articles are intended only to be one example of how a particular action could be
      taken. They should not be understood to be the only action and certainly not to be the
      action recommended by SUSE. Also, SUSE cannot verify either that the actions described
      in the articles do what they claim to do or that they don't have unintended
      consequences.</para>-->
    <para> All information found in this article has been compiled with
      utmost attention to detail. However, this does not guarantee complete
      accuracy.
      <!--Neither SUSE LLC, the authors, nor the translators shall be held liable
        for possible errors or the consequences thereof. --></para>
    <para>Therefore, we need to specifically state that neither SUSE LLC,
      its affiliates, the authors, nor the translators may be held liable
      for possible errors or the consequences thereof. Below we draw your
      attention to the license under which the articles are
      published.</para>
  </sect1>

  <?pdfpagebreak style="suse2013" formatter="fop"?>
  <xi:include href="license-gfdl.xml"/>
</article>
