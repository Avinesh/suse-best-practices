<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>
<!DOCTYPE article [
<!ENTITY % entity SYSTEM "entity-decl.ent">
%entity;
]>
<article xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="art.sbp.securitymodule" xml:lang="en">
    <info>
        <title>Security Module in SUSE Linux Enterprise 11</title>
        <subtitle>Methods to receive your Red Hat updates and
            patches</subtitle>
        <orgname>SUSE Best Practices</orgname>
        <productname>SUSE Linux Enterprise Server</productname>
        <productnumber>11</productnumber>
        <author>
            <personname>
                <firstname>Mark</firstname>
                <surname>Post</surname>
            </personname>
            <affiliation>
                <jobtitle>Software Engineer Consultant</jobtitle>
                <orgname>&suse;</orgname>
            </affiliation>
        </author>

        <abstract>
            <para>For some time now, governmental agencies around the
                world, such as the United States National Institute of
                Standards and Technology (NIST) (<link
                    xlink:href="http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-52r1.pdf"
                    >NIST SP 800-52 Rev.1</link>) and the German Bundesamt
                f√ºr Sicherheit in der Informationstechnik (BSI) (<link
                    xlink:href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/TechnischeRichtlinien/TR02102/BSI-TR-02102-2.pdf"
                    >BSI TR-02102-2</link>) have issued guidance to use
                Version 1.2 of the Transport Layer Security (TLS)
                cryptographic protocol as a minimum standard for
                encryption. This is primarily important for HTTPS
                encryption of web traffic, although other uses are affected
                as well, such as e-mail. </para>

            <para>Allowing SUSE`s customers to follow this guidance without
                affecting the stability and usability of their systems is
                challenging. In this paper we will be providing some
                background to illustrate those challenges and then show how
                they have been addressed. </para>
        </abstract>
    </info>

    <sect1 xml:id="sec.background">
        <title>Background</title>
        <para>As the name indicates, SUSE Linux Enterprise is intended for
            use by enterprises. One of the main attributes valued by
            enterprises in software is stability. SUSE achieves this in a
            number of ways, one of which is to not change versions of its
            software packages unless there is no other alternative. When
            SUSE Linux Enterprise 11 became generally available in 2009,
            OpenSSL 0.9.8 was the package included to provide encryption
            for the various other software that used it. </para>

        <para>It was when the requirement for TLS 1.2 came along that a
            conflict arose between that need and the goal of maintaining
            the same software versions, and hence stability. OpenSSL
            version 0.9.8 simply did not provide an implementation of TLS
            1.1 or 1.2 and never would provide it. </para>

        <para>In order to provide TLS 1.2 with OpenSSL, SUSE would have to
            provide version 1.0 or higher. Such an update to a more recent
            OpenSSL version would have been nearly impossible, as OpenSSL
            is notoriously incompatible with itself when moving between
            versions. An OpenSSL version upgrade would trigger a rebuild of
            a significant number of other packages in SUSE Linux Enterprise
            11 - and subsequently would require a high number of updates to
            be installed on all our customers` production systems. Worse, a
            version upgrade would break third party applications. This was
            considered unacceptable, so another approach was taken.</para>

        <para>Fortunately, there are cryptographic libraries other than
            OpenSSL, and amongst those it was decided that Mozilla`s
            Network Security Services (NSS) would be the best option: </para>

        <para>
            <itemizedlist>
                <listitem>
                    <para>The library is stable and proven to work, as it
                        provides HTTPS support (including TLS) for the
                        Firefox web browser. </para>
                </listitem>
                <listitem>
                    <para>An Apache module already exists, which is derived
                        from mod_ssl and thus easy to use for
                        administrators used to mod_ssl. </para>
                </listitem>
                <listitem>
                    <para>The NSS library is already part of SUSE Linux
                        Enterprise 11, and support for TLS 1.2 can be
                        provided easily with full backward
                        compatibility.</para>
                </listitem>
            </itemizedlist>
        </para>

        <para>In late November of 2013, SUSE shipped updated versions of
            libfreebl3, libsoftokn3, mozilla-nspr, and mozilla-nss, along
            with a new package apache2-mod_nss in the maintenance channels
            for SUSE Linux Enterprise 11 SP2 and SP3. While this took care
            of the web server and web browser cases, it did not do the same
            for other network services such as e-mail or tools such as wget
            and curl.</para>
    </sect1>

    <sect1 xml:id="sec.challenges">
        <title>More Challenges</title>

        <para>The e-mail server that is included with SUSE Linux
            Enterprise, Postfix, does not work with NSS, but only with
            OpenSSL. Simply shipping both OpenSSL 0.9.8 and OpenSSL 1.0 was
            no option because it was all too likely that customers would
            install both versions of OpenSSL on their systems. Because of
            the incompatibilities discussed earlier, this would almost
            certainly have lead to all sorts of application crashes. </para>

        <para> The lack of SUSE provided packages built against OpenSSL 1.0
            lead to some customers attempting to recompile them from
            source, with mixed success. Worse, the recompiled packages were
            not supported by SUSE and in the case of curl, would invalidate
            support for the entire system. Further, customers would need
            some way of rebuilding their in-house written applications
            against OpenSSL 1.0 to be compliant. Clearly something more was
            needed.</para>
    </sect1>

    <sect1>
        <title>Round Two</title>
        <para>In August of 2014, SUSE released the <quote>SUSE Linux
                Enterprise 11 Security Module</quote>, providing
            enhancements to SUSE Linux Enterprise 11 Service Pack (SP) 3,
            and later SP4. Available to all customers with a SUSE Linux
            Enterprise Server subscription, this allows customers and
            partners to build TLS 1.2 compliant infrastructures beyond the
            HTTPS protocol. The packages in the Security Module will be
            supported in the same way and for the same period of time as
            the other packages shipped with SUSE Linux Enterprise 11. </para>

        <para> In this context the term <quote>module</quote> can be
            somewhat confusing but it comes from the <quote>optional
                modules</quote> that were introduced with SUSE Linux
            Enterprise 12 <footnote>
                <para>See <link
                        xlink:href="https://www.suse.com/products/server/features/modules.html"
                    /></para>
            </footnote>. Essentially the Security Module is an additional
            package and maintenance repository for use by YaST or zypper.
            There are no DVDs to order or ISO images to download. At this
            time, there are a total of 31 packages available in the
            Security Module. See Figure 1 for a list.</para>





    </sect1>


    <?pdfpagebreak style="suse2013" formatter="fop"?>

    <xi:include href="license-gfdl.xml"/>

</article>
