[[Implementation_Phases]]
== Implementation Phases



.Implentation Phases with milestones of an deployment
image::Implementation_Phases.png[align="center",width=500]

=== Start & Design

Start your cloud project with a design workshop where all central 
questions are discussed and answered. Many of the questions
mentioned in chapter 1 must be clarified at the outset. If they 
are not answered properly, the entire project might be at risk.

A workshop with SUSE experts takes 2-3 days and preferably takes place
at the customer's site. The list of participants should include experts
and architects from all departments involved in the operation and 
maintenance of your future cloud environment, to ensure proper know-how
is taken in consideration for the design. This includes members from the 
datacenter operations, network operations and storage teams, and from any 
application team that will likely run software in the cloud.

The most important aspects to be discussed during the design workshop are:

- Specific business drivers -- Why is the customer
  looking into building a cloud and what challenge does he want to tackle?

- Use cases for the cloud -- What workloads will be running in the cloud 
  environment and what is the best technical implementation for them?

- Implementation -- How many environments are required? Is one environment 
  enough, or are different environments needes, such as a production, 
  staging, QA, development or test and trial environment?
 
- Expectations -- What are the expectations with regard to the performance 
  of the cloud in terms of capacity, bandwidth, latency?

- General conditions -- Are there any specific in-house regulations in place 
  that impact the implementation of a cloud? What are the physical conditions?

- Responsibilities -- Who drives the project at both ends? Who are the experts
  in charge, who communicates to whom during the implementation? Are there any 
  forseeable bottlenecks or issues?

==== Environment Types

One important question to clarify is how many OpenStack cloud environments  
a customer needs and what purpose these will be serving. A production setup 
must meet requirements different from a QA or development environment. 

Environments tailored for the purpose of development are used to:

- test new software functionality
- test configuration changes
- test patches
- test temporary product fixes (PTF)
- test upgrade procedures
- troubleshoot an issue
- training and sandbox purposes

In contrast to a production environment, a development environment only 
requires the basic OpenStack services and is easier to setup and maintain. 
It is also less complex and better to adapt.

A QA environment, however, with the purpose to test changes before merging 
them into the production platform, must be as close to the production 
environment as possible. Thus it has the same level of complexity and 
the same operation constraints.

==== The Design Workshop

The design of the solution is the most challenging part. In previous
chapters, the sizing (number of servers), failure domains and clusters, 
networking functionality and key aspects of the SUSE OpenStack Cloud and 
SUSE Enterprise Storage products have been discussed. During the design 
phase of the setup, all these factors are put into relation of the results 
of the workshop conducted in the first step to create a full picture of how 
the future cloud environment will look like.

In cooperation with the customer, the consultants will draft a design 
document for the setup and take all mentioned factors into consideration. 
They will demonstrate how SUSE products such as SUSE Enterprise Linux, SUSE 
OpenStack Cloud, SUSE Enterprise Storage, SUSE Manager, and others help
you to build a cloud fast and effectively. The design document contains all 
relevant information including:

- Which OpenStack services will be used -- What components in addition to
  the basic components are available and are useful in the environment? 
  What about additions such as OpenStack Monasca?

- How does the design of the network for the cloud look like -- What SDN 
  solution is used? What are the local requirements? How does the physical
  layout of the network look like? What is the target size and can the 
  network handle that size; if not, how does it need to be changed? Are there
  any possible showstoppers included in the design such as firewalls? How 
  does the cloud integrate into the existing structure for (external) networking?

- What network services are required and how will they be rolled out in
  the future cloud -- What protocols must be supported? Examples include
  DNS, DHCP, TFTP, PXE and many more.

- How is encryption inside the cloud handled -- When is communication with the 
  outside handled? Who can organize possibly required certificates for SSL-based 
  connections?

- What does the operations concept looks like and what tools will be used to
  implement the concept -- Is SUSE Manager used? How are patches handled?

- What licenses and external products must be acquired -- Who is in charge
  of acquiring those and until when does it happen?

- How experienced is the staff with regard to cloud computing and the
  economy of scale in general -- Is the staff experienced in operating an
  OpenStack cloud environment in particular? Is training necessary?

WARNING: Moving to the cloud is an organizational change. Staffing is a 
critical component of a successful cloud deployment. Ensure your staff
is technically and mentally trained and prepared for the new environment.

==== CPU and RAM Ratio

During the workshop, a technical requirement document is developed. This 
document formally defines the type and amount of hardware required for 
the cloud environment. Sizing the hardware correctly before ordering it 
according to section <<CPU_and_RAM_Ratio>> eliminates a number of problems 
that could otherwise arise during the progress of the project.

==== Persistent vs. Ephemeral Storage Sizing Rules

The difference between Persistent and Ephemeral storage is also important 
when sizing the hardware. To understand why ephemeral storage is an intricate
issue, refer to section <<Ephemeral_and_Persistent_Storage>> and section 
<<Ephemeral_Issues>> in chapters 2 and 5.

Nevertheless the sizing for ephemeral storage and persistent storage 
(which means the storage available in your Ceph cluster) needs to be
determined. It is important to _not_ mix up ephemeral disks and persistent
block storage in this context. In addition to the ephemeral disk, which is
automatically provided for almost every started VM, storage for
Ceph or any other storage solution must be included in the planning.

To calculate the minimum disk space needed on a compute node, you need
to determine the highest disk-space-to-RAM ratio from your flavors. 

In the example

- Flavor small: 2 GB RAM, 100 GB ephemeral disk => 50 GB disk / 1 GB RAM
- Flavor large: 8 GB RAM, 200 GB ephemeral disk => 25 GB disk / 1 GB RAM

50 GB disk / 1 GB RAM is the ratio that matters. If you multiply that
value by the amount of RAM in gigabytes available on a compute node, you
get the minimum disk space required by ephemeral disks. Pad that value
with sufficient space for the root disks plus a buffer to leave some space
for flavors with a higher disk-space-to-RAM ratio in the future.

After the number of required servers (see section <<ReferenceArchitecture>>)
is known, it is easy to calculate the required network ports and design the
network switch layout.

==== Compatibility with SUSE Linux Enterprise

During the workshop, the SUSE experts will of course ensure that the 
hardware specified in the List of Material is compatible with the SUSE Linux 
Enterprise platform as the fundament of SUSE OpenStack Cloud and SUSE 
Enterprise Storage.

More details can be found in section 2.4 Hardware Requirements 
of the SUSE OpenStack 8 Deployment guide at
https://www.suse.com/documentation/suse-openstack-cloud-8/pdfdoc/book_deployment/book_deployment.pdf

and in section 18.5 Proof of Concepts Deployments of the SUSE OpenStack 
Cloud 7 Deployment Guide at
https://www.suse.com/documentation/suse-openstack-cloud-7/book_cloud_deploy/data/sec_depl_poc_matrix.html

=== Bill Of Material

Based on the results of the workshop, a list of required hardware and software 
components and professional services is compiled. On the basis of this list,
quotes from vendors and suppliers are requested. After having received the 
quotes, the solution can be calculated, and the total cost for setting up the 
the cloud environment can be clarified.

At this stage of the project, management approval is required to determine whether 
the project will be pursued further or not. It is also possible to re-design
parts of the solution to decrease its price at the cost of having less functionality 
or less capacity available in the setup.

=== Hardware Setup
 
After the project gets formal management approval, the next logical step
is the acquisition of the required components. When hardware, software
and professional services are delivered, the cloud environment can be built.

At this stage, customers deploying a SUSE cloud solution will receive 
a short technical document detailing how to prepare the implementation. 
This not only includes the configuration information for the individual 
nodes of the setup to ensure a smooth installation of the SUSE OpenStack 
Cloud and SUSE Enterprise Storage components, but also information about
any other required component such as autoYaST for the automated deployment 
of pysical servers.

The technical document will also contain relevant information for staff
from other departments such as datacenter operations or network operations.

Finally, the server hardware must be set up in the datacenter and 
installed with the operating system.

=== Deployment

Using the determined solution for the roll-out of the cloud, the rollout
will be done in accordance with the governing factors laid out in the
Scope of Work definition created together during the Design Workshop. At
this stage of the project, SUSE architects will usually support you
(even on-site) to ensure a quick and good progress of the installation
of your future setup. We will especially make sure to perform the setup
in the right order so that our mighty deployment tools such as Autoyast
are functional from the get-go and the time required for the deployment
of your cloud is as small as possible.

=== Handover

When all components are rolled out as required, formal tests will be done.
These tests are based on a catalogue of standard tests previously agreed 
upon, as SUSE provides a large number of acceptance tests to chose from. 
If all tests are completed successfully, the formal handover of the setup 
takes place and the responsibility for the installation is tranferred to 
the customer.

Depending on the support level included with the subcription for the 
solution, you can open support requests and clarify your questions throughout
the validity of your subscription.

=== Production

After possibly required additional tests on your side, the setup goes
into production mode and starts to actively serve customers.

=== Summary

To successfully build up a large scale cloud environment, you should take 
into consideration a few factors; some of them are listed below:

- *Use Open Standards*: Rely on Open Standards and avoid getting locked-in 
   to a specific vendor -- both objectives are achieved when using open source 
   software.

- *Automate*: Anything in cloud setups that can be automated should be
  automated. This allows your staff to focus on relevant work, such as 
  developing new features or helping improve the environment.

- *Scale out -- but do it!*: The ability to scale out is a key
  requirement. Providers mostly scale out when they see the need to remain 
  competitive.  Some companies however do not make use of the scale-out 
  capabilities for financial reasons, facing then several setbacks.

- *Get help*: Building a large scale cloud environment is a intricate and
  difficult task -- find the right partners in time and work together
  with them to turn the project into a guaranteed success.

// vim:set syntax=asciidoc:
